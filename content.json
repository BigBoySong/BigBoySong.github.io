{"meta":{"title":"大侠宋楠哥的博客","subtitle":"记录人生感动","description":"记录人生感动","author":"大侠宋楠哥","url":"http://songnan05.gitee.io","root":"/"},"pages":[{"title":"收藏的图片","date":"2021-02-16T03:38:12.000Z","updated":"2021-02-17T11:28:55.705Z","comments":true,"path":"gallery/index.html","permalink":"http://songnan05.gitee.io/gallery/index.html","excerpt":"","text":"新年壁紙 收藏的一些新年壁紙 必应壁纸 收藏的一些必应壁紙 动漫 收藏的一些动漫的图片 女孩 收藏的一些女孩的图片 妹子图 收藏的一些妹子的图片"},{"title":"个人简介","date":"2021-02-15T04:25:36.000Z","updated":"2021-02-15T04:36:06.700Z","comments":true,"path":"about/index.html","permalink":"http://songnan05.gitee.io/about/index.html","excerpt":"","text":"宋楠宋楠宋楠宋楠宋楠宋楠宋楠宋楠宋楠宋楠宋楠宋楠宋楠v"},{"title":"本人收藏的歌曲","date":"2021-02-15T04:34:40.000Z","updated":"2021-02-15T04:36:59.292Z","comments":true,"path":"audio/index.html","permalink":"http://songnan05.gitee.io/audio/index.html","excerpt":"","text":"123"},{"title":"归档","date":"2021-02-14T04:05:39.000Z","updated":"2021-02-15T11:36:17.014Z","comments":true,"path":"categories/index.html","permalink":"http://songnan05.gitee.io/categories/index.html","excerpt":"","text":""},{"title":"留言板","date":"2021-02-16T06:18:03.000Z","updated":"2021-02-17T07:54:38.587Z","comments":true,"path":"message/index.html","permalink":"http://songnan05.gitee.io/message/index.html","excerpt":"","text":"给我留言 在你留言之前，请注意！ 请礼貌用语"},{"title":"喜欢的音乐","date":"2021-02-16T06:18:03.000Z","updated":"2021-02-17T10:40:25.947Z","comments":true,"path":"music/index.html","permalink":"http://songnan05.gitee.io/music/index.html","excerpt":"","text":"我的网易云歌单"},{"title":"必应壁纸","date":"2021-02-16T04:13:40.000Z","updated":"2021-02-17T12:15:36.907Z","comments":true,"path":"gallery/Bing-wallpaper/index.html","permalink":"http://songnan05.gitee.io/gallery/Bing-wallpaper/index.html","excerpt":"","text":"返回相册 待更新......"},{"title":"动漫","date":"2021-02-16T04:12:45.000Z","updated":"2021-02-17T12:15:18.215Z","comments":true,"path":"gallery/animation/index.html","permalink":"http://songnan05.gitee.io/gallery/animation/index.html","excerpt":"","text":"返回相册 待更新......"},{"title":"女孩","date":"2021-02-16T04:12:22.000Z","updated":"2021-02-17T12:15:41.095Z","comments":true,"path":"gallery/girl/index.html","permalink":"http://songnan05.gitee.io/gallery/girl/index.html","excerpt":"","text":"返回相册 待更新......"},{"title":"标签","date":"2021-02-14T02:29:35.000Z","updated":"2021-02-15T11:35:58.842Z","comments":true,"path":"tags/index.html","permalink":"http://songnan05.gitee.io/tags/index.html","excerpt":"","text":""},{"title":"妹子图","date":"2021-02-17T12:15:26.067Z","updated":"2021-02-17T12:15:26.039Z","comments":true,"path":"gallery/meizi/index.html","permalink":"http://songnan05.gitee.io/gallery/meizi/index.html","excerpt":"","text":"返回相册 待更新......"},{"title":"壁纸","date":"2021-02-16T04:13:11.000Z","updated":"2021-02-17T12:15:32.947Z","comments":true,"path":"gallery/wallpaper/index.html","permalink":"http://songnan05.gitee.io/gallery/wallpaper/index.html","excerpt":"","text":"返回相册 待更新......"}],"posts":[{"title":"树莓派计划任务的配置方法","slug":"树莓派计划任务的配置方法","date":"2021-02-17T07:47:03.688Z","updated":"2021-02-17T07:53:07.819Z","comments":true,"path":"2021/02/17/树莓派计划任务的配置方法/","link":"","permalink":"http://songnan05.gitee.io/2021/02/17/%E6%A0%91%E8%8E%93%E6%B4%BE%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95/","excerpt":"记录树莓派计划任务的配置方法","text":"Unix 系统包括树莓派的 Raspbian 有一个叫 Cron 的工具用来配置计划任务。它用来设置一些命令或脚本，定时或者间隔某一个时间运行一次。大到每天午夜备份指定目录，小到每小时记录 CPU 信息均可用它实现。 使用 crontab 命令来操作任务计划表，这张表是基于用户的，也就是说每个用户（包括 root 用户）都有一套自己的 crontab。 Cron GUICron 也有一个图形界面的应用，通过下面的命令来安装： 1sudo apt install gnome-schedule 然后就可以在树莓派菜单中找到 Scheduled Tasks 来启动它。 编辑 crontab下面的命令进入编辑 cron table 的操作： 1crontab -e 选择编辑器首次运行时会提示你选择一个编辑器，如果不知道选哪个就直接回车选择 Nano 编辑器。 添加计划任务每一条计划任务为一行，由 6 个部分构成。 1# m h dom mon dow command``# * * * * * command to execute（要执行的指令）``# ┬ ┬ ┬ ┬ ┬``# │ │ │ │ │``# │ │ │ │ │``# │ │ │ │ └───── 星期 (0 - 7) (0 到 6 分别表示星期天到星期六；7 和 0 都代表星期天)``# │ │ │ └────────── 月 (1 - 12)``# │ │ └─────────────── 日 (1 - 31)``# │ └──────────────────── 小时 (0 - 23)``# └───────────────────────── 分钟 (0 - 59) 示例： 10 0 * * * &#x2F;home&#x2F;pi&#x2F;backup.sh 它表示每天 0 点 0 分运行 backup.sh 脚本。 查看计划任务使用下面的命令： 1crontab -l 在重启时运行任务如果需要在树莓派每次启动时都运行一条命令，可以这么做： 1@reboot python &#x2F;home&#x2F;pi&#x2F;myscript.py 其中使用 @reboot 替代了日期和时间。如果你希望命令仅仅在后台运行，则可以加一个 &amp; 符号： 1@reboot python &#x2F;home&#x2F;pi&#x2F;myscript.py &amp;","categories":[{"name":"树莓派","slug":"树莓派","permalink":"http://songnan05.gitee.io/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/"}],"tags":[{"name":"crontab","slug":"crontab","permalink":"http://songnan05.gitee.io/tags/crontab/"}]},{"title":"利用树莓派进行挂机下载","slug":"利用树莓派进行挂机下载","date":"2021-02-17T07:43:00.000Z","updated":"2021-02-17T07:30:54.012Z","comments":true,"path":"2021/02/17/利用树莓派进行挂机下载/","link":"","permalink":"http://songnan05.gitee.io/2021/02/17/%E5%88%A9%E7%94%A8%E6%A0%91%E8%8E%93%E6%B4%BE%E8%BF%9B%E8%A1%8C%E6%8C%82%E6%9C%BA%E4%B8%8B%E8%BD%BD/","excerpt":"记录利用树莓派进行挂机下载","text":"本文转自 Dust’s Blog 一直有买 NAS 做下载姬的想法，但见过太多人买回家吃灰的例子，而且我的松鼠症并不严重，所以犹豫着。直到听闻树莓派4代发售，价格比 NAS 便宜，正好家里也有闲置 U 盘，思来想去，果然还是树莓派比较适合老子.jpg 1. 准备工作在淘宝找到相关店家，根据自己的需要选择相应套餐，因为需要预订，大概一周后到货。 树莓派到手后，先将 Raspbian 系统镜像写入 micro SD 卡，推荐使用 balenaEtcher，十分方便。 之后配置远程 SSH 和 wifi（如果选择直接在树莓派上外接显示器和键盘就不用进行这一步），简单来说就是在根目录新建 SSH 文件和 wpa_supplicant.conf 文件，文件内容参考 教程 。 配置好后，插入 SD 卡启动树莓派，在路由后台管理中找到树莓派的 IP。 SSH 远程登录，默认用户名 pi，默认密码 raspberry，完成。（记得修改默认密码 2. 配置(1) 更新升级系统由于国内网络环境，需要修改源以免更新速度缓慢，可以 据此 修改（感谢清华源）。 Raspbian 基于 Debian，使用 apt upgrade 更新升级。如遇到更新途中卡死、Ctrl+C 无法终止的情况，使用 kill 结束进程，恢复，重启，再更新。 (2) 格式化 U 盘U 盘用于存放我们的下载文件，使用 exFAT 格式以便存储超过 4 GB 的文件。sda1 是我的 U 盘设备，请根据自己情况修改。 1apt &#96;&#96;install&#96; &#96;exfat-fuse&#96;&#96;# 若提示未找到 mkfs.exfat，可将 &#x2F;usr&#x2F;sbin 加入 PATH。&#96;&#96;mkfs.exfat &#96;&#96;&#x2F;dev&#x2F;sda1 接着修改 /etc/fstab，让系统每次启动都自动挂载 U 盘。 1# 追加写入，勿删改文件内其它内容&#96;&#96;&#x2F;dev&#x2F;sda1&#96; &#96;&#x2F;mnt&#x2F;udisk&#96; &#96;exfat rw,defaults 0 0 最后使用 mount -a 重新载入配置，检查有无报错。 额外的，我还将 U 盘路径软链接到用户目录以方便查看。 1ln&#96; &#96;-s &#96;&#96;&#x2F;mnt&#x2F;udisk&#96; &#96;~&#96;&#96;&#x2F;downloads&#x2F;udisk (3) 编译安装 qBittorrent其实软件仓库中有 qBittorrent，但我需要的是 qBittorrent-Enhanced-Edition，可以自动封禁如迅雷吸血客户端的 IP。如果你没有这个需求，直接 apt install qBittorrent 即可（或者安装 qBittorrent-nox，无需 GUI）。 编译需要依赖 Boost、Qt5 等，安装 1apt &#96;&#96;install&#96; &#96;qt5-default qttools5-dev-tools libboost1.67-all-dev libtorrent-rasterbar-dev 克隆源码，在其目录执行 1# --disable-gui: 不需要 GUI&#96;&#96;# 如果提示无法找到 Boost，需加 --with-boost-libdir 参数&#96;&#96;.&#96;&#96;&#x2F;configure&#96; &#96;--disable-gui --with-boost-libdir&#x3D;&#96;&#96;&#x2F;usr&#x2F;lib&#x2F;arm-linux-gnueabihf&#96;&#96;make&#96; &#96;-j$(nproc)&#96;&#96;make&#96; &#96;install 由于树莓派孱弱的性能，编译过程可能需要十多分钟。 之后启动 qBittorrent，浏览器远程访问，默认端口 8080，用户名 admin，密码 adminadmin。记得改密码。 配置一番后就可以开始下载了。 (4) 安装 samba为与 Windows 共享文件，需安装 samba，官方 和网上其它地方都有教程，不细述。 值得注意的是，如果你和我一样使用了软链接，还需要在 samba 配置文件加入如下内容 1[global]&#96;&#96;allow insecure wide links &#x3D; yes&#96; &#96;[share]&#96;&#96;follow symlinks &#x3D; yes&#96;&#96;wide links &#x3D; yes 来源 改好配置后，systemctl restart smdb.service 重启 samba。 3. 使用情况室温 30℃，风冷闲时 44℃。 下载速度没严格测试，根据已下载的情况，最高 9 MiB/s，与资源热度和网速有关，应该不是上限。没有测试内网文件传输速度。 测试 5G 大小 1080P 视频文件，可流畅播放，但如果大幅跳转有短暂卡顿。 总的来说还行吧，作为轻量下载姬，自分满足。 附：如果同时进行 BT 和 PT 下载，请分开安装。推荐使用 docker（官方安装教程），因为 PT 一般有客户端白名单，所以 docker 直接下载 qBittorrent 或其它官方 BT 客户端镜像即可。 注：本文并非详细的安装指南，如有未描述清楚的地方请查阅其它资料。","categories":[{"name":"树莓派","slug":"树莓派","permalink":"http://songnan05.gitee.io/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/"}],"tags":[{"name":"retropie","slug":"retropie","permalink":"http://songnan05.gitee.io/tags/retropie/"}]},{"title":"使用PHP上传文件到树莓派","slug":"使用PHP上传文件到树莓派","date":"2021-02-17T07:41:38.546Z","updated":"2021-02-17T07:42:49.833Z","comments":true,"path":"2021/02/17/使用PHP上传文件到树莓派/","link":"","permalink":"http://songnan05.gitee.io/2021/02/17/%E4%BD%BF%E7%94%A8PHP%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0%E6%A0%91%E8%8E%93%E6%B4%BE/","excerpt":"记录使用PHP上传文件到树莓派","text":"无意间在慕课看到的一篇教程，跟着研究了下。教程使用的是PHP的 HTTP_POS 组件实现上传功能。 PS.本人是代码小白…出错的地方可能挺多…各位大大不要见怪…. 说一下可能会出现的问题： 1、乱码，解决方法 请检查浏览器是否为UTF-8 2、文件上传失败，文件超过服务器设定大小！解决方法:更改PHP.ini设置中的dpload_max_filesize 3、文件上传失败，文件超过服务器表设定！解决方法：更改PHP.ini设置中的MAX_FILE_SIZE 更多问题可以参考压缩包里的 Readme.txt 正题： 首先当然得安装PHP等相关服务，参考：在树莓派上搭建LAMP服务 LAMP的含义是： Linux － 操作系统Apache － 网络服务器（HTTP）软件Mysql － 数据库服务PHP or Perl － 编程语言 安装完PHP后就可以直接把我的包（解压后）通过SFTP上传到www目录下即可（百度网盘） Pi端解压后应该是这样的 我们尝试上传一个文件（允许的文件列表在put.php中，默认设定只能上传图片否则报错）电脑端访问Pi的IP弹出我们的上传页面 此时Pi端的文件夹是空的 我们在电脑端选择文件并点击上传 页面提示上传成功后，Pi端的文件夹便多出了一个文件。 附上各平台的测试(ios,安卓,windows)ios 安卓 windows 上传成功enjoy! 最后： 程序下载地址：百度网盘","categories":[{"name":"树莓派","slug":"树莓派","permalink":"http://songnan05.gitee.io/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/"}],"tags":[{"name":"系统配置","slug":"系统配置","permalink":"http://songnan05.gitee.io/tags/%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/"}]},{"title":"无屏幕和键盘配置树莓派WiFi和SSH","slug":"无屏幕和键盘配置树莓派WiFi和SSH","date":"2021-02-17T07:38:14.618Z","updated":"2021-02-17T07:40:09.954Z","comments":true,"path":"2021/02/17/无屏幕和键盘配置树莓派WiFi和SSH/","link":"","permalink":"http://songnan05.gitee.io/2021/02/17/%E6%97%A0%E5%B1%8F%E5%B9%95%E5%92%8C%E9%94%AE%E7%9B%98%E9%85%8D%E7%BD%AE%E6%A0%91%E8%8E%93%E6%B4%BEWiFi%E5%92%8CSSH/","excerpt":"记录无屏幕和键盘配置树莓派WiFi和SSH","text":"不算是什么新功能了，在树莓派3B发布后不久，树莓派官方 Raspbian 系统久加入了允许在开机前对 WiFi 网络进行配置的机制。 注意，这个方法仅适用于全新安装树莓派系统到 SD 卡之后没有做过任何 Wi-Fi 配置的情况下有效。如果你之前配置过 Wi-Fi，再用本方法系统会默认使用已有的配置而忽略这里的配置。因此建议使用前重新安装系统。 一、WiFi 网络配置用户可以在未启动树莓派的状态下单独修改 /boot/wpa_supplicant.conf 文件配置 WiFi 的 SSID 和密码，这样树莓派启动后会自行读取 wpa_supplicant.conf 配置文件连接 WiFi 设备。 操作方法简单：将刷好 Raspbian 系统的 SD 卡用电脑读取。在 boot 分区，也就是树莓派的 /boot 目录下新建 wpa_supplicant.conf 文件，按照下面的参考格式填入内容并保存 wpa_supplicant.conf 文件。 1country&#x3D;CN&#96;&#96;ctrl_interface&#x3D;DIR&#x3D;&#x2F;var&#x2F;run&#x2F;wpa_supplicant GROUP&#x3D;netdev&#96;&#96;update_config&#x3D;1&#96; &#96;network&#x3D;&#123;&#96;&#96;ssid&#x3D;&quot;WiFi-A&quot;&#96;&#96;psk&#x3D;&quot;12345678&quot;&#96;&#96;key_mgmt&#x3D;WPA-PSK&#96;&#96;priority&#x3D;1&#96;&#96;&#125;&#96; &#96;network&#x3D;&#123;&#96;&#96;ssid&#x3D;&quot;WiFi-B&quot;&#96;&#96;psk&#x3D;&quot;12345678&quot;&#96;&#96;key_mgmt&#x3D;WPA-PSK&#96;&#96;priority&#x3D;2&#96;&#96;scan_ssid&#x3D;1&#96;&#96;&#125; 说明以及不同安全性的 WiFi 配置示例：#ssid:网络的ssid#psk:密码#priority:连接优先级，数字越大优先级越高（不可以是负数）#scan_ssid:连接隐藏WiFi时需要指定该值为1 如果你的 WiFi 没有密码 1network&#x3D;&#123;&#96;&#96;ssid&#x3D;&quot;你的无线网络名称（ssid）&quot;&#96;&#96;key_mgmt&#x3D;NONE&#96;&#96;&#125; 如果你的 WiFi 使用WEP加密 1network&#x3D;&#123;&#96;&#96;ssid&#x3D;&quot;你的无线网络名称（ssid）&quot;&#96;&#96;key_mgmt&#x3D;NONE&#96;&#96;wep_key0&#x3D;&quot;你的wifi密码&quot;&#96;&#96;&#125; 如果你的 WiFi 使用WPA/WPA2加密 1network&#x3D;&#123;&#96;&#96;ssid&#x3D;&quot;你的无线网络名称（ssid）&quot;&#96;&#96;key_mgmt&#x3D;WPA-PSK&#96;&#96;psk&#x3D;&quot;你的wifi密码&quot;&#96;&#96;&#125; 如果你不清楚 WiFi 的加密模式，可以在安卓手机上用 root explorer 打开 /data/misc/wifi/wpa/wpa_supplicant.conf，查看 WiFi 的信息。 二、开启 SSH 服务如果通过 ssh 连接树莓派出现 Access denied 这个提示则说明 ssh 服务没有开启。要手动开启的话，和 WiFi 配置相似，同样在 boot 分区新建一个文件，空白的即可，文件命名为 ssh。注意要小写且不要有任何扩展名。树莓派在启动之后会在检测到这个文件之后自动启用 ssh 服务。随后即可通过登录路由器找到树莓派的 IP 地址，通过 ssh 连接到树莓派了。（有关开启 SSH 服务的详细方法） 如果需要远程桌面方式操作树莓派，可以通过 ssh 安装 xrdp，再用 Windows 的远程桌面客户端连接到树莓派。 这个小技巧对于没有有线网卡、没有标准 USB 接口来直连键鼠，但集成了 WiFi 的树莓派 Zero W 尤其实用。","categories":[{"name":"树莓派","slug":"树莓派","permalink":"http://songnan05.gitee.io/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/"}],"tags":[{"name":"系统配置","slug":"系统配置","permalink":"http://songnan05.gitee.io/tags/%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/"}]},{"title":"Pi Dashboard (Pi 仪表盘) 安装","slug":"Pi Dashboard 安装","date":"2021-02-17T07:33:15.616Z","updated":"2021-02-17T07:36:37.199Z","comments":true,"path":"2021/02/17/Pi Dashboard 安装/","link":"","permalink":"http://songnan05.gitee.io/2021/02/17/Pi%20Dashboard%20%E5%AE%89%E8%A3%85/","excerpt":"Pi Dashboard (Pi 仪表盘) 是一个开源的 IoT 设备监控工具，目前主要针对树莓派平台，也尽可能兼容其他类树莓派硬件产品。你只需要在树莓派上安装好 PHP 服务器环境，即可方便的部署一个 Pi 仪表盘，通过炫酷的 WebUI 来监控树莓派的状态！","text":"Pi Dashboard (Pi 仪表盘) 是一个开源的 IoT 设备监控工具，目前主要针对树莓派平台，也尽可能兼容其他类树莓派硬件产品。你只需要在树莓派上安装好 PHP 服务器环境，即可方便的部署一个 Pi 仪表盘，通过炫酷的 WebUI 来监控树莓派的状态！ 目前已加入的监测项目有： CPU 基本信息、状态和使用率等实时数据 内存、缓存、SWAP分区使用的实时数据 SD卡（磁盘）的占用情况 实时负载数据 实施进程数据 网络接口的实时数据 树莓派IP、运行时间、操作系统、HOST 等基础信息 仪表盘预览 安装方法安装共2步，首先安装 Nginx（或 Apache）和 PHP。然后在 Nginx 目录通过 SFTP 或 GitHub 部署好本项目的程序。 1.安装 Nginx 和 PHP在 Pi 的终端运行以下命令。 1234sudo apt-get updatesudo apt-get install nginx php7.3-fpm php7.3-cli php7.3-curl php7.3-gd php7.3-cgisudo service nginx startsudo service php7.3-fpm restart 如果安装成功，可通过 http://树莓派IP 访问到 Nginx 的默认页。Nginx 的根目录在 /var/www/html。进行以下操作来让 Nginx 能处理 PHP。sudo nano /etc/nginx/sites-available/default 将其中的如下内容 12345location &#x2F; &#123; # First attempt to serve request as file, then # as directory, then fall back to displaying a 404. try_files $uri $uri&#x2F; &#x3D;404; &#125; 替换为 12345678910location &#x2F; &#123;index index.html index.htm index.php default.html default.htm default.php;&#125; location ~\\.php$ &#123;fastcgi_pass unix:&#x2F;run&#x2F;php&#x2F;php7.3-fpm.sock;#fastcgi_pass 127.0.0.1:9000;fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;include fastcgi_params;&#125; Ctrl + O 保存再 Ctrl + X 退出。 1sudo service nginx restart 最后重启 Nginx 即可，以上步骤在树莓派 Zero + Linux version 4.9.41+ 系统版本上测试通过。 对在树莓派上部署 LNMP 有兴趣可以参考这篇更详细的介绍《树莓派搭建LNMP环境》。 2.部署 Pi Dashboard这里介绍两种方法将 Pi Dashboard 部署在 Nginx 上。2.1. SFTP 上传在 GitHub 下载本项目源码。通过 FileZilla 等 FTP 软件将解压出来的目录上传到树莓派的 /var/www/html 目录下。那么可以通过 http://树莓派IP/pi-dashboard 访问部署好了的 Pi Dashboard。 如果页面无法显示，可以尝试在树莓派终端给源码添加运行权限，例如你上传之后的路径是 /var/www/html/pi-dashboard，则运行。 12cd &#x2F;var&#x2F;www&#x2F;htmlsudo chown -R www-data pi-dashboard 2.2. GitHub 部署如果你了解过 GitHub 的基本操作，通过 GitHub 来下载本项目到 Pi 上会相当方便。 1234#如果已安装过 git 客户端可以跳过下一行sudo apt-get install gitcd &#x2F;var&#x2F;www&#x2F;htmlsudo git clone https:&#x2F;&#x2F;github.com&#x2F;nxez&#x2F;pi-dashboard.git 即可通过 http://树莓派IP/pi-dashboard 访问部署好了的 Pi Dashboard。 同样如果页面无法显示，可以尝试在树莓派终端给源码添加运行权限，例如你上传之后的路径是 /var/www/html/pi-dashboard，则运行。 12cd &#x2F;var&#x2F;www&#x2F;htmlsudo chown -R www-data pi-dashboard 常见问题Q：我的树莓派安装不了PHP5／PHP7怎么办？A：可以参考连接表中的文章链接，针对不同的PHP版本进行操作。 Q：Pi Dashboard 的 WebUI 支持在哪些终端上查看？A：任何带有浏览器的终端都可以查看，无论是在内网还是外网的电脑、Pad或是智能手机上。Pi Dashboard 对不同的设备做了响应式布局，能很好兼容手机浏览。 Q：我没法通过外网IP访问到怎么办？A：国内很多地区的ISP都不提供独立的外网IP了，可以通过花生壳等工具实现外网访问。对于已有外网独立IP的用户，可以尝试把 Nginx 服务端口从 80 改成其他端口号，再在 IP 地址后添加端口号访问。这是因为国内ISP普遍禁用了80端口。 Q：我有一个域名，如何将域名绑定到树莓派上？A：可以参考DNSPod动态IP解析更新程序和树莓派搭建LNMP环境。将域名指向树莓派IP后需要修改 Nginx 网站配置的 servername 这项为你的域名即可。 Q：使用遇到问题可以提供技术支持吗？A：可以通过 https://talk.quwj.com/ 发帖获得帮助。 使用条款本项目是开源项目，NXEZ.com 保留作为发起者的权利。允许在 GPL v3.0 协议下对项目进行使用。请务必在保证项目的出处、声明、超链接等内容完整。 完善计划欢迎有兴趣的朋友通过 GitHub 参与到本项目的完善。下面是项目后续完善的几个方向。 计划完善 Device 型号识别，需要收集各种 Device 的硬件特征。 对通用 Linux 系统做适配优惠。 不同风格 UI 的加入。 链接表 GitHub NGINX+PHP5 下的配置方法 NGINX+PHP5 下的配置方法，树莓派实验室 NGINX+PHP7 下的配置方法，树莓派实验室 在 Raspbian 上部署 LNMP + Pi Dashboard，PHP7.3","categories":[{"name":"树莓派","slug":"树莓派","permalink":"http://songnan05.gitee.io/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/"}],"tags":[{"name":"Pi Dashboard","slug":"Pi-Dashboard","permalink":"http://songnan05.gitee.io/tags/Pi-Dashboard/"}]},{"title":"树莓派上安装和配置 vsftpd 的教程","slug":"树莓派上安装和配置 vsftpd 的教程","date":"2021-02-17T05:52:00.000Z","updated":"2021-02-17T05:57:43.996Z","comments":true,"path":"2021/02/17/树莓派上安装和配置 vsftpd 的教程/","link":"","permalink":"http://songnan05.gitee.io/2021/02/17/%E6%A0%91%E8%8E%93%E6%B4%BE%E4%B8%8A%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE%20vsftpd%20%E7%9A%84%E6%95%99%E7%A8%8B/","excerpt":"记录树莓派上安装和配置 vsftpd 的教程","text":"在网盘流行的当下，FTP 这种文件传输协议似乎有些「古老」。但是无论如何，FTP 方案有成熟的软件生态、完善的权限控制。你几乎无需做任何开发，只需要选择适合的软件即可创建一个文件共享服务器。可以用于工作文档的存储、分享，或者是数字产品的发布。如果你也和我一样，想在树莓派上搭建 FTP 服务器，下面以 vsftpd 为例，介绍如何安装和配置一个带完整权限控制的 FTP 服务。 对于不同用户进行不同的权限控制。考虑到服务器的安全性，所以关闭实体用户登录，使用虚拟帐号验证机制，并对不同虚拟帐号设置不同的权限。为了保证服务器的性能，还需要根据用户的等级，限制客户端的连接数及下载速度。 安装 vsftpd1sudo apt-get install vsftpd vim db-util 创建用户数据库1、创建用户文本文件先建立用户文本文件 vsftpd_virtualuser.txt，添加两个虚拟帐号，公共帐号 share 及客户帐号 upload。 123sudo mkdir &#x2F;etc&#x2F;vsftpdtouch &#x2F;etc&#x2F;vsftpd&#x2F;vsftpd_virtualuser.txtvim &#x2F;etc&#x2F;vsftpd&#x2F;vsftpd_virtualuser.txt 格式： 1234虚拟帐号 1密码虚拟帐号 2密码 例如： 1234share123456upload456789 保存退出。2、生成数据库保存虚拟帐号和密码的文本文件无法被系统帐号直接调用。我们需要使用 db_load 命令生成 db 数据库文件。 1sudo db_load -T -t hash -f &#x2F;etc&#x2F;vsftpd&#x2F;vsftpd_virtualuser.txt &#x2F;etc&#x2F;vsftpd&#x2F;vsftpd_virtualuser.db 3、修改数据库文件访问权限数据库文件中保存着虚拟帐号的密码信息，为了防止非法用户盗取，我们可以修改该文件的访问权限。生成的认证文件的权限应设置为只对 root 用户可读可写，即 600。 1sudo chmod 600 &#x2F;etc&#x2F;vsftpd&#x2F;vsftpd_virtualuser.db 配置 PAM 文件为了使服务器能够使用数据库文件，对客户端进行身份验证，需要调用系统的 PAM 模块.PAM(Plugable Authentication Module)为可插拔认证模块，不必重新安装应用系统，通过修改指定的配置文件，调整对该程序的认证方式。PAM 模块配置文件路径为/etc/pam.d/目录，此目录下保存着大量与认证有关的配置文件，并以服务名称命名。修改 vsftpd 对应的 PAM 配置文件 /etc/pam.d/vsftpd，将默认配置使用“#”全部注释，添加相应字段。 12auth required pam_userdb.so db&#x3D;&#x2F;etc&#x2F;vsftpd&#x2F;vsftpd_virtualuseraccount required pam_userdb.so db&#x3D;&#x2F;etc&#x2F;vsftpd&#x2F;vsftpd_virtualuser 创建虚拟帐号对应的系统用户对于公共帐号和客户帐号，因为需要配置不同的权限，所以可以将两个帐号的目录进行隔离，控制用户的文件访问。公共帐号 share 对应系统帐号 ftpshare，并指定其主目录为 /home/pi/ftp/share，而客户帐号 upload 对应系统帐号 ftpupload，指定主目录为 /home/pi/ftp/upload。 如果不设置可执行用户登录会报不能更改目录错误。 1234567mkdir &#x2F;home&#x2F;pi&#x2F;ftpmkdir &#x2F;home&#x2F;pi&#x2F;ftp&#x2F;sharemkdir &#x2F;home&#x2F;pi&#x2F;ftp&#x2F;uploadsudo useradd -d &#x2F;home&#x2F;pi&#x2F;ftp&#x2F;share ftpsharesudo useradd -d &#x2F;home&#x2F;pi&#x2F;ftp&#x2F;upload ftpuploadsudo chmod -R 500 &#x2F;home&#x2F;pi&#x2F;ftp&#x2F;share&#x2F;sudo chmod -R 700 &#x2F;home&#x2F;pi&#x2F;ftp&#x2F;upload&#x2F; 公共帐号 share 只允许下载，修改 share 目录其他用户权限为 rx 可读可执行。客户帐号 upload 允许上传和下载，所以对 upload 目录权限设置为 rwx，可读可写可执行。 建立配置文件设置多个虚拟帐号的不同权限，若使用一个配置文件无法实现此功能，需要为每个虚拟帐号建立独立的配置文件，并根据需要进行相应的设置。1、修改 vsftpd.conf 主配置文件配置主配置文件 /etc/vsftpd.conf 添加虚拟帐号的共同设置并添加 user_config_dir 字段，定义虚拟帐号的配置文件目录。禁用匿名用户登录并启用本地用户登录设置： 12345678910111213141516anonymous_enable&#x3D;NOlocal_enable&#x3D;YES# 将所有本地用户限制在家目录中，NO 则不限制chroot_local_user&#x3D;YES# 配置 vsftpd 使用的 PAM 模块为 vsftpdpam_service_name&#x3D;vsftpd# 设置虚拟帐号的主目录为&#x2F;vuserconfiguser_config_dir&#x3D;&#x2F;etc&#x2F;vsftpd&#x2F;vuserconfig# 设置 FTP 服务器最大接入客户端数为 300 个max_clients&#x3D;300# 设置每个 IP 地址最大连接数为 10 个max_per_ip&#x3D;10allow_writeable_chroot&#x3D;YESpasv_enable&#x3D;YESpasv_min_port&#x3D;10000pasv_max_port&#x3D;20000 2、建立虚拟帐号配置文件在 user_config_dir 指定路径下，建立与虚拟帐号同名的配置文件并添加相应的配置字段。首先建立公共帐号 share 的配置文件： 12sudo mkdir &#x2F;etc&#x2F;vsftpd&#x2F;vuserconfigsudo vi &#x2F;etc&#x2F;vsftpd&#x2F;vuserconfig&#x2F;share 12345678# 开启虚拟帐号登录guest_enable&#x3D;yes# 设置 ftp 对应的系统帐号为 ftpshareguest_username&#x3D;ftpshare# 允许匿名用户浏览器整个服务器的文件系统anon_world_readable_only&#x3D;no# 限定传输速率为 500KB&#x2F;sanon_max_rate&#x3D;500000 注意：vsftpd 对于文件传输速度限制并不是绝对锁定在一个数值上哈，而是在 80%120%之间变化。比如设置 100KB/s ，则实际是速度在 80KB/s120KB/s 之间变化。 下面是客户帐号的配置文件 upload： 12sudo vi &#x2F;etc&#x2F;vsftpd&#x2F;vuserconfig&#x2F;upload 12345678910111213141516# 开启虚拟帐号登录guest_enable&#x3D;yes# 设置 ftp 对应的系统帐号为 ftpuploadguest_username&#x3D;ftpupload# 允许匿名用户浏览器整个服务器的文件系统anon_world_readable_only&#x3D;no# 允许在文件系统写入权限write_enable&#x3D;yes# 允许创建文件夹anon_mkdir_write_enable&#x3D;yes# 开启匿名帐号的上传功能anon_upload_enable&#x3D;yes# 限定传输速度为 1000KB&#x2F;sanon_max_rate&#x3D;1000000如果需要删除权限，可在配置中添加：anon_other_write_enable&#x3D;YES 重启 vsftpd 使配置生效123sudo systemctl restart vsftpdsudo service vsftpd restart","categories":[{"name":"树莓派","slug":"树莓派","permalink":"http://songnan05.gitee.io/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/"}],"tags":[{"name":"retropie","slug":"retropie","permalink":"http://songnan05.gitee.io/tags/retropie/"}]},{"title":"制作树莓派的游戏机系统","slug":"树莓派制作游戏机","date":"2021-02-14T07:43:00.000Z","updated":"2021-02-16T05:50:00.141Z","comments":true,"path":"2021/02/14/树莓派制作游戏机/","link":"","permalink":"http://songnan05.gitee.io/2021/02/14/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%88%B6%E4%BD%9C%E6%B8%B8%E6%88%8F%E6%9C%BA/","excerpt":"记录树莓派的游戏机系统（retropie）的一些配置","text":"树莓派的游戏机系统（retropie）完整配置文档 此处记录的是个人一些配置方法 初始化配置1.连接到Wifi如果您想连接到wifi而不需要额外的键盘，则可以将文件添加到名为sd卡的引导分区中 /boot/wpa_supplicant.conf文件中 123456789country&#x3D;CNctrl_interface&#x3D;DIR&#x3D;&#x2F;var&#x2F;run&#x2F;wpa_supplicant GROUP&#x3D;netdevupdate_config&#x3D;1network&#x3D;&#123;ssid&#x3D;&quot;songnan&quot;psk&#x3D;&quot;songnan7758526nan&quot;key_mgmt&#x3D;WPA-PSKpriority&#x3D;1&#125; 2. 启用SSH如果您想启用而不需要额外的键盘，则可以将文件添加到名为sd卡的引导分区中 /boot/ssh文件中 3. 网络挂载游戏ROMS 网络设备配置Samba服务不在本文讲解范围内！ 终端连接树莓派输入sudo nano /opt/retropie/configs/all/autostart.sh并输入以下内容并保存 1sudo mount -t cifs -o username&#x3D;something,password&#x3D;something,nounix,noserverino &#x2F;&#x2F;REMOTEHOST&#x2F;path&#x2F;to&#x2F;roms &#x2F;home&#x2F;pi&#x2F;RetroPie&#x2F;roms something字段为用户个人配置 4. 游戏创建 gamelist 正常情况刮板即可满足要求，本文介绍的是中文目录 截图编辑/opt/retropie/configs/all/retroarch.cfg添加如下代码1input_screenshot_btn &#x3D; &quot;*&quot; *为自定义按键 可终端使用jstest /dev/input/js0命令并按下手柄按钮确定键值 本人自动全局设置截图脚本 123456789101112131415#! &#x2F;bin&#x2F;shmkdir &quot;&#x2F;home&#x2F;pi&#x2F;RetroPie&#x2F;screenshots&quot;chmod 777 -R &quot;&#x2F;home&#x2F;pi&#x2F;RetroPie&#x2F;screenshots&quot;cp &quot;runcommand-onend.sh&quot; &quot;&#x2F;opt&#x2F;retropie&#x2F;configs&#x2F;all&#x2F;runcommand-onend.sh&quot;path&#x3D;&#39;&#x2F;opt&#x2F;retropie&#x2F;configs&#x2F;&#39;dir&#x3D;$(ls -l $path |awk &#39;&#x2F;^d&#x2F; &#123;print $NF&#125;&#39;)for file_path in $dirdo echo $file_path mkdir &quot;&#x2F;home&#x2F;pi&#x2F;RetroPie&#x2F;screenshots&#x2F;$&#123;file_path&#125;&quot; chmod 777 -R &quot;&#x2F;home&#x2F;pi&#x2F;RetroPie&#x2F;screenshots&#x2F;$&#123;file_path&#125;&quot; echo &quot;auto_screenshot_filename &#x3D; \\&quot;false\\&quot;&quot;&gt;&gt;&quot;$&#123;path&#125;&#x2F;$&#123;file_path&#125;&#x2F;retroarch.cfg&quot; echo &quot;screenshot_directory &#x3D; \\&quot;&#x2F;home&#x2F;pi&#x2F;RetroPie&#x2F;screenshots&#x2F;$&#123;file_path&#125;\\&quot;&quot;&gt;&gt;&quot;$&#123;path&#125;&#x2F;$&#123;file_path&#125;&#x2F;retroarch.cfg&quot; echo &#39;input_screenshot_btn &#x3D; &quot;2&quot;&#39;&gt;&gt;&quot;$&#123;path&#125;&#x2F;$&#123;file_path&#125;&#x2F;retroarch.cfg&quot;done 全局配置（简便方法）编辑您的/opt/retropie/configs/all/retroarch.cfg并放置选项auto_screenshot_filename = &quot;false&quot;。该选项在默认情况下不存在retroarch.cfg，因此将其放在文件的开头是个好主意（以后可以轻松编辑）。然后在选项中添加另一行screenshot_directory = &quot;/path/to/screenshots&quot;（我使用/home/pi/screenshots，但是您可以设置任何其他有效路径）。请记住：该目录必须存在，否则RetroArch将无法保存屏幕截图。12auto_screenshot_filename &#x3D; &quot;false&quot;screenshot_directory &#x3D; &quot;&#x2F;some&#x2F;path&#x2F;to&#x2F;screenshots&quot; 单独配置每个模拟器如果您对全局配置感到满意，则可以跳至下一部分。如果要特定于系统的自定义，请继续阅读。编辑您的/opt/retropie/configs/SYSTEM_NAME/retroarch.cfg（用明显的名称替换SYSTEM_NAME），然后像上面的全局配置一样对其进行配置。系统特定的配置优先于全局配置。因此，如果要为特定系统显式打开/关闭此功能，可以分别设置auto_screenshot_filename为false或true。请注意，您必须显式设置它以true关闭特定系统的抓取屏幕截图。如果不存在，脚本将在global中寻找该配置retroarch.cfg。如果要使用系统特定的文件夹来截屏，请screenshot_directory在系统特定中设置选项retroarch.cfg。如果不存在，脚本将在全局文件中查找该配置。12auto_screenshot_filename &#x3D; &quot;false&quot;screenshot_directory &#x3D; &quot;&#x2F;some&#x2F;path&#x2F;to&#x2F;screenshots&quot; 最后在命令行中键入：12wget https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;meleu&#x2F;share&#x2F;master&#x2F;screeper.shmv screeper.sh &#x2F;opt&#x2F;retropie&#x2F;configs&#x2F;all&#x2F;runcommand-onend.sh screeper.sh 下载连接：下载文件 5. 中英文游戏对照表我的游戏信息库","categories":[{"name":"树莓派","slug":"树莓派","permalink":"http://songnan05.gitee.io/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/"}],"tags":[{"name":"retropie","slug":"retropie","permalink":"http://songnan05.gitee.io/tags/retropie/"}]}],"categories":[{"name":"树莓派","slug":"树莓派","permalink":"http://songnan05.gitee.io/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/"}],"tags":[{"name":"crontab","slug":"crontab","permalink":"http://songnan05.gitee.io/tags/crontab/"},{"name":"retropie","slug":"retropie","permalink":"http://songnan05.gitee.io/tags/retropie/"},{"name":"系统配置","slug":"系统配置","permalink":"http://songnan05.gitee.io/tags/%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/"},{"name":"Pi Dashboard","slug":"Pi-Dashboard","permalink":"http://songnan05.gitee.io/tags/Pi-Dashboard/"}]}